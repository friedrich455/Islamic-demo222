<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>æ–‹æˆ’Â·èŠ‚ä¿­Â·æ„Ÿæ©</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 0; padding: 20px; background: #f4f4f4; }
        .container { max-width: 900px; margin: 0 auto; }
        .header { background: linear-gradient(135deg, #007bff, #0056b3); color: white; padding: 30px; border-radius: 15px; margin-bottom: 30px; }
        .audio-section { background: #007bff; margin: 20px auto; padding: 25px; width: 90%; max-width: 600px; border-radius: 15px; color: white; box-shadow: 0 4px 15px rgba(0,123,255,0.3); }
        .pdf-section { background: #28a745; margin: 20px auto; padding: 25px; width: 95%; max-width: 850px; border-radius: 15px; color: white; box-shadow: 0 4px 15px rgba(40,167,69,0.3); }
        .btn { display: inline-block; margin: 10px; padding: 15px 30px; font-size: 18px; border: none; border-radius: 10px; text-decoration: none; cursor: pointer; transition: all 0.3s; font-weight: bold; color: white; }
        .audio-section .btn { background: #0056b3; }
        .audio-section .btn:hover { background: #ffeb3b; color: black; transform: scale(1.05); }
        .pdf-section .btn { background: #dc3545; margin: 15px; padding: 20px 40px; font-size: 20px; }
        .pdf-section .btn:hover { background: #ffc107; color: black; transform: scale(1.05); }
        .pdf-preview { width: 100%; height: 150px; background: linear-gradient(45deg, #ddd, #eee); border: 3px solid #fff; border-radius: 15px; margin: 20px 0; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 24px; color: #666; }
        h1 { margin: 0; font-size: 28px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        h2 { margin: 0 0 20px 0; font-size: 22px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ã€Šæ–‹æˆ’Â·èŠ‚ä¿­Â·æ„Ÿæ©ã€‹</h1>
            <h2>ä½œè€…ï¼šèµ›ä¹‰å¾·Â·åŠªå°”æ–¯</h2>
        </div>

        <!-- Audio - Works Everywhere -->
        <div class="audio-section">
            <h2>ğŸµ æ’­æ”¾éŸ³é¢‘</h2>
            <button class="btn" id="playBtn">â–¶ï¸ æ’­æ”¾éŸ³é¢‘</button>
            <a class="btn" href="https://raw.githubusercontent.com/friedrich455/Islamic-demo222/main/Assets1/zhaijie.mp3" download>ğŸ’¾ ä¸‹è½½éŸ³é¢‘</a>
            <audio id="audioPlayer" style="display: none;">
                <source src="https://raw.githubusercontent.com/friedrich455/Islamic-demo222/main/Assets1/zhaijie.mp3" type="audio/mpeg">
            </audio>
        </div>

        <!-- PDF - WeChat NATIVE + Universal Fallback -->
        <div class="pdf-section">
            <h2>ğŸ“– é˜…è¯»ä¹¦ç± (100%å…¼å®¹)</h2>
            <div class="pdf-preview">
                ğŸ“š ã€Šæ–‹æˆ’Â·èŠ‚ä¿­Â·æ„Ÿæ©ã€‹ä¹¦ç±é¢„è§ˆ<br>
                <small>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å³å¯é˜…è¯»</small>
            </div>
            
            <!-- WeChat Native Preview (ä¼˜å…ˆ) -->
            <button class="btn" onclick="openPDFWeChat()">ğŸ“± å¾®ä¿¡é˜…è¯» (æ¨è)</button>
            
            <!-- Universal Browser Viewer -->
            <a class="btn" href="https://raw.githubusercontent.com/friedrich455/Islamic-demo222/main/Assets1/zhaijiebook.pdf" target="_blank">ğŸŒ æµè§ˆå™¨é˜…è¯»</a>
            
            <!-- Download -->
            <a class="btn" href="https://raw.githubusercontent.com/friedrich455/Islamic-demo222/main/Assets1/zhaijiebook.pdf" download>ğŸ’¾ ä¸‹è½½PDF</a>
        </div>
    </div>

    <script>
        // Universal Audio Controls
        const playBtn = document.getElementById('playBtn');
        const audio = document.getElementById('audioPlayer');
        
        playBtn.addEventListener('click', () => {
            if (audio.paused) {
                audio.play().catch(e => alert('æ’­æ”¾å¤±è´¥'));
                playBtn.textContent = 'â¸ï¸ æš‚åœéŸ³é¢‘';
                playBtn.style.background = '#dc3545';
            } else {
                audio.pause();
                playBtn.textContent = 'â–¶ï¸ æ’­æ”¾éŸ³é¢‘';
                playBtn.style.background = '#0056b3';
            }
        });
        
        audio.addEventListener('ended', () => {
            playBtn.textContent = 'â–¶ï¸ æ’­æ”¾éŸ³é¢‘';
            playBtn.style.background = '#0056b3';
        });

        // WeChat Native PDF Preview + Universal Fallback
        function openPDFWeChat() {
            const pdfUrl = 'https://raw.githubusercontent.com/friedrich455/Islamic-demo222/main/Assets1/zhaijiebook.pdf';
            
            // Check if WeChat environment
            if (navigator.userAgent.toLowerCase().indexOf('micromessenger') > -1) {
                // WeChat Native File Preview API
                if (typeof wx !== 'undefined' && wx.previewFile) {
                    wx.previewFile({
                        url: pdfUrl,
                        type: 'pdf',
                        success: function () { console.log('WeChat PDF opened'); },
                        fail: function () { window.open(pdfUrl, '_blank'); }
                    });
                } else {
                    // WeChat fallback
                    window.open(pdfUrl, '_blank');
                }
            } else {
                // Firefox/Chrome/others - Direct browser viewer
                window.open(pdfUrl, '_blank');
            }
        }
    </script>
</body>
</html>
